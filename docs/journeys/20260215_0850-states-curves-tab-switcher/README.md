# 旅程：Tab Switcher（states + curves 画像）

## 画像
**states+curves** — 能力集: {states, curves}

## 设计目标
设计一个 Tab Switcher 交互原型：
- 3 个 tab 状态（默认、状态2、状态3）
- Tab indicator（矩形2）在不同状态间改变 X 位置
- 内容区域（矩形3）在不同状态间改变透明度
- 使用弹簧曲线控制过渡动画，调整 response 参数

## 操作步骤摘要

1. 创建 3 个矩形：容器背景、tab indicator、内容区域
2. 创建 3 个显示状态（默认、状态2、状态3）
3. 在状态2中修改矩形2的 X 位置为 200（覆盖）
4. 在状态2中修改矩形3的透明度为 0.5（覆盖）
5. 标记 X 为关键属性
6. 修改状态2的全局弹簧曲线 response 为 1.28
7. 验证曲线类型切换（弹簧→摩擦→弹簧、弹簧→贝塞尔→弹簧）
8. 保存设计文件

## 结论
**有摩擦** — 核心功能（状态覆盖、曲线编辑、曲线类型切换）基本可用，但存在多个 UX 摩擦点。

## 发现的摩擦点

### P2 — 数字输入框编辑体验差（已知问题）
- 双击数字输入框不会全选内容
- Ctrl+A 选择的是画布图层而非输入框内容
- 输入新值时追加而非替换，需要手动清除旧值
- **影响**：每次修改属性值都需要额外操作

### P2 — 状态栏激活状态视觉反馈不清晰（新发现）
- 在状态栏切换状态时，当前激活状态的视觉高亮不够明显
- 用户可能误以为在状态3操作，实际激活的是状态2
- 从保存的 JSON 验证发现：覆盖值写入了状态2而非预期的状态3
- **影响**：状态覆盖可能写入错误的状态，导致设计结果不符合预期

### P3 — 曲线面板需要大量滚动才能看到（新发现）
- 曲线面板（CurvePanel）和关键属性面板（KeyPropertyPanel）位于属性面板下方
- 右侧面板 `.panel-right` 需要滚动很多才能看到曲线面板
- 对于 curves 画像用户来说，曲线是核心功能，不应该藏在最底部
- **建议**：考虑将曲线面板放在更显眼的位置，或提供折叠/展开机制

### P3 — 曲线面板元素对自动化工具不可见（新发现）
- journey-server 的元素扫描无法检测到曲线面板内的交互元素（slider、数值显示等）
- 这些元素没有 title、data-* 等语义属性
- **影响**：自动化测试和 AI 旅程验证难以精确操作曲线参数
- **建议**：为曲线面板的交互元素添加 data-testid 或 title 属性

### P3 — Range slider 精确控制困难（新发现）
- 弹簧参数（response、damping）使用 range slider 控制
- 通过鼠标点击/拖拽很难精确设置目标值
- 没有直接输入数值的方式
- **建议**：在 slider 旁边添加可编辑的数值输入框
