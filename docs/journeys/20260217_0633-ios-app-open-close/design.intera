{"id":"project_1","name":"未命名项目","canvasSize":{"width":375,"height":812},"layers":{"layer_1":{"id":"layer_1","name":"矩形 1","type":"rectangle","parentId":null,"childrenIds":[],"visible":true,"locked":false,"props":{"x":128,"y":500,"width":120,"height":120,"rotation":0,"scaleX":1,"scaleY":1,"opacity":1,"borderRadius":26,"fill":"#3478F6","stroke":"none","strokeWidth":0},"layoutProps":{"layout":"free","gap":0,"padding":[0,0,0,0],"alignItems":"start","justifyContent":"start","clipContent":false,"widthMode":"fixed","heightMode":"fixed"}}},"rootLayerIds":["layer_1"],"stateGroups":[{"id":"group_main","name":"主画面","rootLayerId":null,"displayStates":[{"id":"state_default","name":"默认","overrides":{},"transition":{"curve":{"type":"spring","damping":0.95,"response":0.35}},"curve":{"type":"spring","response":0.5,"damping":0.82}},{"id":"state_2","name":"状态 2","overrides":{"layer_1":{"x":0,"y":0,"width":375,"height":812,"borderRadius":0}},"transition":{"curve":{"type":"spring","damping":0.95,"response":0.35}},"curve":{"type":"spring","response":0.5,"damping":0.82}}],"activeDisplayStateId":"state_default"}],"variables":[{"id":"var_3","name":"isOpen","type":"boolean","defaultValue":false}],"patches":[{"id":"patch_4","type":"touch","name":"Touch","position":{"x":40,"y":40},"config":{"type":"touch","layerId":"layer_1"},"inputs":[],"outputs":[{"id":"down","name":"Down","dataType":"pulse"},{"id":"up","name":"Up","dataType":"pulse"},{"id":"tap","name":"Tap","dataType":"pulse"}]},{"id":"patch_5","type":"toggleVariable","name":"Toggle","position":{"x":280,"y":40},"config":{"type":"toggleVariable","variableId":"var_3"},"inputs":[{"id":"in","name":"In","dataType":"pulse"}],"outputs":[{"id":"out","name":"Out","dataType":"pulse"}]},{"id":"patch_6","type":"condition","name":"展开?","position":{"x":500,"y":40},"config":{"type":"condition","variableId":"var_3","compareValue":true},"inputs":[{"id":"in","name":"In","dataType":"pulse"}],"outputs":[{"id":"true","name":"True","dataType":"pulse"},{"id":"false","name":"False","dataType":"pulse"}]},{"id":"patch_7","type":"to","name":"展开","position":{"x":720,"y":0},"config":{"type":"to","stateId":"state_2","groupId":"group_main"},"inputs":[{"id":"in","name":"In","dataType":"pulse"}],"outputs":[{"id":"done","name":"Done","dataType":"pulse"}]},{"id":"patch_8","type":"to","name":"收起","position":{"x":720,"y":120},"config":{"type":"to","stateId":"state_default","groupId":"group_main"},"inputs":[{"id":"in","name":"In","dataType":"pulse"}],"outputs":[{"id":"done","name":"Done","dataType":"pulse"}]},{"id":"patch_drag","type":"behaviorDrag","name":"上滑手势","position":{"x":40,"y":240},"config":{"type":"behaviorDrag","layerId":"layer_1","axis":"y","range":[-300,600],"snapPoints":[-100]},"inputs":[],"outputs":[{"id":"start","name":"Start","dataType":"pulse"},{"id":"end","name":"End","dataType":"pulse"},{"id":"snap","name":"Snap","dataType":"pulse"},{"id":"x","name":"X","dataType":"number"},{"id":"y","name":"Y","dataType":"number"},{"id":"offsetX","name":"ΔX","dataType":"number"},{"id":"offsetY","name":"ΔY","dataType":"number"}]},{"id":"patch_transition","type":"transition","name":"跟手缩放","position":{"x":40,"y":460},"config":{"type":"transition","layerId":"layer_1","groupId":"group_main","fromStateId":"state_2","toStateId":"state_default","inputRange":[-500,0]},"inputs":[{"id":"value","name":"Value","dataType":"number"}],"outputs":[]},{"id":"patch_cond_snap","type":"condition","name":"已展开?","position":{"x":280,"y":220},"config":{"type":"condition","variableId":"var_3","compareValue":true},"inputs":[{"id":"in","name":"In","dataType":"pulse"}],"outputs":[{"id":"true","name":"True","dataType":"pulse"},{"id":"false","name":"False","dataType":"pulse"}]},{"id":"patch_setvar","type":"setVariable","name":"关闭","position":{"x":500,"y":220},"config":{"type":"setVariable","variableId":"var_3","value":false},"inputs":[{"id":"in","name":"In","dataType":"pulse"}],"outputs":[{"id":"out","name":"Out","dataType":"pulse"}]},{"id":"patch_cond_end","type":"condition","name":"弹回?","position":{"x":280,"y":340},"config":{"type":"condition","variableId":"var_3","compareValue":true},"inputs":[{"id":"in","name":"In","dataType":"pulse"}],"outputs":[{"id":"true","name":"True","dataType":"pulse"},{"id":"false","name":"False","dataType":"pulse"}]}],"connections":[{"id":"conn_9","fromPatchId":"patch_4","fromPortId":"tap","toPatchId":"patch_5","toPortId":"in"},{"id":"conn_10","fromPatchId":"patch_5","fromPortId":"out","toPatchId":"patch_6","toPortId":"in"},{"id":"conn_11","fromPatchId":"patch_6","fromPortId":"true","toPatchId":"patch_7","toPortId":"in"},{"id":"conn_12","fromPatchId":"patch_6","fromPortId":"false","toPatchId":"patch_8","toPortId":"in"},{"id":"conn_drag_snap","fromPatchId":"patch_drag","fromPortId":"snap","toPatchId":"patch_cond_snap","toPortId":"in"},{"id":"conn_snap_true","fromPatchId":"patch_cond_snap","fromPortId":"true","toPatchId":"patch_setvar","toPortId":"in"},{"id":"conn_snap_false","fromPatchId":"patch_cond_snap","fromPortId":"false","toPatchId":"patch_8","toPortId":"in"},{"id":"conn_setvar_to","fromPatchId":"patch_setvar","fromPortId":"out","toPatchId":"patch_8","toPortId":"in"},{"id":"conn_drag_end","fromPatchId":"patch_drag","fromPortId":"end","toPatchId":"patch_cond_end","toPortId":"in"},{"id":"conn_end_true","fromPatchId":"patch_cond_end","fromPortId":"true","toPatchId":"patch_7","toPortId":"in"},{"id":"conn_end_false","fromPatchId":"patch_cond_end","fromPortId":"false","toPatchId":"patch_8","toPortId":"in"},{"id":"conn_drag_transition","fromPatchId":"patch_drag","fromPortId":"offsetY","toPatchId":"patch_transition","toPortId":"value"}]}