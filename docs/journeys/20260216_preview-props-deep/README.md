# Flow E: Preview 交互 + 属性面板深度体验

> 画像: `{states}` — 多状态设计验证（深度聚焦 Preview/Properties）
> 日期: 2026-02-16
> 步骤数: 54

## 设计任务

创建按钮卡片（圆角矩形底板 + "Click Me" 文本），设置两个状态（默认 / 状态 2），在状态 2 中覆盖 Y 位置和透明度。重点验证 Preview 面板自动循环 + Reset 行为、属性面板 Override 指示器 + 重置功能。

## 验证覆盖

### 属性面板
| 功能 | 结果 | 备注 |
|------|------|------|
| X/Y/W/H 数值编辑 | ✅ | Double-click 聚焦 + Meta+A 全选 + Enter 确认 |
| Tab 键导航 | ✅ | X → Y → W → H 流畅跳转 |
| 圆角编辑 | ✅ | 实时同步画布 |
| 文本内容编辑 | ✅ | Textarea 直接输入 + Tab 失焦确认 |
| 文本属性组 | ✅ | 内容 → 字号 → 字体 → 字重 → 对齐，层次清晰 |
| Override 橙色高亮 | ✅ | 仅被覆盖属性显示橙色背景 |
| ◆ 菱形标记 | ✅ | 覆盖属性标签前有视觉提示 |
| ↺ 重置为基础值 | ✅ | 精确重置单属性，不影响其他覆盖 |
| 状态切换联动 | ✅ | 切到默认→无覆盖标记；切到状态2→覆盖标记出现 |

### Preview 预览
| 功能 | 结果 | 备注 |
|------|------|------|
| 自动循环 | ✅ | 点击 Preview 面板 → 切到下一状态 |
| 双向循环 | ✅ | 默认 ↔ 状态 2 来回切换无问题 |
| 状态 badge 联动 | ✅ | Preview header 显示当前状态名 |
| 属性面板同步 | ✅ | 循环后属性值 + override 标记同步更新 |
| 选中框联动 | ✅ | 循环后画布选中框跳到对应 Artboard |
| Reset 按钮 | ✅ | 重置 Preview 到当前活跃状态静态外观 |
| 提示文案 | ✅ | "点击此处预览动画"（有差异时）/ "选中图层修改属性，创建状态覆盖"（无差异时） |

## 体验审查

### ① 视觉一致性
- ✅ 覆盖指示器三件套（橙色背景 + ◆ 菱形 + ↺ 按钮）统一出现/消失
- ✅ 属性面板各区段标题样式一致
- ✅ 文本属性组与位置/外观组视觉权重协调
- ✅ 双 Artboard 并排对比直观（默认 vs 覆盖）

### ② 交互品味
- ✅ 属性编辑即时反映到画布 + Preview
- ✅ "重置为基础值"行为精确——只重置 Y，透明度覆盖不受影响
- ✅ Preview auto-cycle 触发自然，弹簧过渡效果流畅
- ✅ 状态切换同步链路完整（tab + canvas + properties + preview）
- ⚠️ Preview Reset 按钮无 tooltip，功能不够直觉

## 摩擦点

### 🟡 F-001: Preview Reset 缺乏可发现性
- **类型**: `ux-friction`
- **严重度**: P3
- **描述**: Preview "Reset" 按钮无 tooltip。用户可能不理解它的作用——特别是当 Preview 已在当前状态静态位置时点击无变化，容易困惑。
- **建议**: 添加 tooltip "重置预览动画到当前状态"

### 🔴 F-002: 绘制工具坐标映射仍不准确 (已知)
- **类型**: `bug`
- **严重度**: P1
- **描述**: 矩形和文本图层绘制后 X 坐标为负值（-353/-281），图层落在 Artboard 外部。与之前旅程 F-001 相同。
- **状态**: 已知，待修

## 截图清单
- step-01: 初始空画布
- step-21: 创建状态 2 后的双 Artboard
- step-27: Y override + 透明度 override 完整指示器
- step-31: 双 override 全貌（Y:150 橙色 + 透明度:0.5 橙色）
- step-32: 自动循环到默认（覆盖标记消失）
- step-34: 重置为基础值后 Y 恢复
- step-54: 最终设计（矩形 + "Click Me" 文本）
